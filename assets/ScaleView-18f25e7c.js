import{d as L,r as U,o as O,a as X,w as z,t as G,n as J,_ as P,b as Y,c as F,e as a,f as K,g as S,p as A,h as B,i as v,v as m,j as Q}from"./index-1ac4a5ae.js";const Z=L({name:"Home",props:{minValue:{type:Number,default:0},maxValue:{type:Number,default:100},value:{type:Number,default:0},scaleColor:{type:String,default:"#ffffff"},sliderColor:{type:String,default:"#06ee8e"},valueColor:{type:String,default:"#06ee8e"},backgroundColor:{type:String,default:"#040404"}},setup(o){const t=U({ruleNumber:o.value}),C=10,l=10,n=0;let b=!1,c,x,g=!0,M=0,T=0,i=10,u,k,y,s,h=0,E=0,N=0;const I=()=>{const e=document.getElementById("scale-container");u=document.getElementById("test-canvas"),u.width=e.clientWidth,u.height=e.clientHeight,s=u.getContext("2d",{alpha:!1});const r=parseInt((u.clientHeight/l).toFixed(0));h=parseInt((r/2).toFixed(0)),c=o.minValue-h,x=o.maxValue-h,k=u.clientWidth,y=u.clientHeight,s.font="14px Arial",window.requestAnimationFrame(p)},p=()=>{s.fillStyle=o.backgroundColor,s.beginPath(),s.fillRect(0,0,k,y),s.closePath(),s.fillStyle=o.scaleColor;let e;const r=i.toString(),_=Number(r.charAt(r.length-1));i>0?e=l-_:i<0?(e=_,i===0&&(e=l)):e=0;for(let d=e;d<y;d+=l){s.moveTo(n,d);const w=d+i;if(D(w)===0)if(w%(C*l)===0){const j=d.toFixed(2);s.fillText(String(w/l),40,Number(j)),s.lineTo(30,d)}else s.lineTo(10,d)}s.strokeStyle=o.scaleColor,s.moveTo(n,0),s.lineTo(n,y),s.stroke(),J(()=>{t.ruleNumber=Math.floor(i/l)+h})},D=e=>{const r=Math.floor(e/l);return r>=o.minValue&&r<=o.maxValue?0:-1},V=e=>{const r=Math.floor(e/l);return r<=c?-1:r>=x?1:0},H=e=>{b=!0,M=e.pageY,T=i,g=!1},W=e=>{if(!b)return;const r=e.pageY,_=Math.floor(M-r);E=N-r,N=r,!(_*V(i)>0)&&q(_)},q=e=>{i=T+e,window.requestAnimationFrame(p)},R=e=>{b=!1,g=!0,$(E)},$=e=>{g&&(e*V(i)>0||(e*=.9,!(Math.abs(e)<1||e*V(i)>0)&&(i+=Math.floor(e),window.requestAnimationFrame(()=>{$(e),p()}))))};return O(()=>{const e=document.documentElement;e.style.setProperty("--scale-container",o.backgroundColor),e.style.setProperty("--indicator-value",o.valueColor),e.style.setProperty("--indicator-arrow",o.sliderColor),I()}),X(()=>{const e=document.documentElement;e.style.setProperty("--scale-container",o.backgroundColor),e.style.setProperty("--indicator-value",o.valueColor),e.style.setProperty("--indicator-arrow",o.sliderColor),I(),p(),console.log("onUpdated",o.value)}),z(()=>o.value,e=>{console.log("watch",e),e&&(t.ruleNumber=e,i=(e-h)*l,p())}),{...G(t),canvasTouchMove:W,canvasTouchEnd:R,canvasTouchStart:H}}});const ee=o=>(A("data-v-e3245cbb"),o=o(),B(),o),oe={class:"scale-container",id:"scale-container"},te={class:"indicator"},le={id:"indicator-val",class:"value"},ae=ee(()=>a("div",{id:"indicator-arr",class:"arrow"},null,-1));function ne(o,t,C,l,n,b){return Y(),F("div",oe,[a("div",te,[a("div",le,K(o.ruleNumber),1),ae]),a("canvas",{ref:"canvas",id:"test-canvas",width:"50px",onMousemove:t[0]||(t[0]=S((...c)=>o.canvasTouchMove&&o.canvasTouchMove(...c),["stop"])),onMouseup:t[1]||(t[1]=S((...c)=>o.canvasTouchEnd&&o.canvasTouchEnd(...c),["stop"])),onMousedown:t[2]||(t[2]=S((...c)=>o.canvasTouchStart&&o.canvasTouchStart(...c),["stop"]))},null,544)])}const se=P(Z,[["render",ne],["__scopeId","data-v-e3245cbb"]]);const f=o=>(A("data-v-8b9a37c1"),o=o(),B(),o),re={class:"container"},ie={class:"custom"},ce={class:"color"},ue=f(()=>a("div",null,"刻度尺背景颜色",-1)),de={class:"color"},ve=f(()=>a("div",null,"刻度尺刻度颜色",-1)),me={class:"color"},fe=f(()=>a("div",null,"指示箭头颜色",-1)),he={class:"color"},pe=f(()=>a("div",null,"当前值的颜色",-1)),_e={class:"num"},be=f(()=>a("div",null,"设置当前值",-1)),ye={class:"num"},Ce=f(()=>a("div",null,"最大值",-1)),ge={class:"num"},Ve=f(()=>a("div",null,"最小值",-1)),we={__name:"ScaleView",setup(o){const t=U({maxValue:100,minValue:0,value:28,scaleColor:"#ffffff",sliderColor:"#06ee8e",valueColor:"#06ee8e",backgroundColor:"#040404"});return(C,l)=>(Y(),F("div",re,[a("div",ie,[a("div",ce,[ue,v(a("input",{type:"color","onUpdate:modelValue":l[0]||(l[0]=n=>t.backgroundColor=n),placeholder:"Enter a color value here"},null,512),[[m,t.backgroundColor]])]),a("div",de,[ve,v(a("input",{type:"color","onUpdate:modelValue":l[1]||(l[1]=n=>t.scaleColor=n),placeholder:"Enter a color value here"},null,512),[[m,t.scaleColor]])]),a("div",me,[fe,v(a("input",{type:"color","onUpdate:modelValue":l[2]||(l[2]=n=>t.sliderColor=n),placeholder:"Enter a color value here"},null,512),[[m,t.sliderColor]])]),a("div",he,[pe,v(a("input",{type:"color","onUpdate:modelValue":l[3]||(l[3]=n=>t.valueColor=n),placeholder:"Enter a color value here"},null,512),[[m,t.valueColor]])]),a("div",_e,[be,v(a("input",{type:"number","onUpdate:modelValue":l[4]||(l[4]=n=>t.value=n),placeholder:"Enter a value here"},null,512),[[m,t.value]])]),a("div",ye,[Ce,v(a("input",{type:"number","onUpdate:modelValue":l[5]||(l[5]=n=>t.maxValue=n),placeholder:"Enter a value here"},null,512),[[m,t.maxValue]])]),a("div",ge,[Ve,v(a("input",{type:"number","onUpdate:modelValue":l[6]||(l[6]=n=>t.minValue=n),placeholder:"Enter a value here"},null,512),[[m,t.minValue]])])]),Q(se,{"max-value":t.maxValue,"min-value":t.minValue,value:t.value,"scale-color":t.scaleColor,"slider-color":t.sliderColor,"value-color":t.valueColor,"background-color":t.backgroundColor},null,8,["max-value","min-value","value","scale-color","slider-color","value-color","background-color"])]))}},xe=P(we,[["__scopeId","data-v-8b9a37c1"]]);export{xe as default};
